const produtos = [
    {
        id: 1,
        code:76589,
        title: "Bolsa Feminina Phillip Kollin PK007-Blue-A8679-2",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"Pesadena",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk007-blue.jpg',
        description: ""
    },

    {
        id: 2,
        code:76591,
        title: "Bolsa Feminina Phillip Kollin PK007-Nude",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"Pesadena",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk007-nude.jpg',
        description: ""
    },
    {
        id: 3,
        code:76590,
        title: "Bolsa Feminina Phillip Kollin PK007-White-A8679-2",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"Pesadena",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk007-white.jpg',
        description: ""
    },
    {
        id: 4,
        code:76588,
        title: "Bolsa Feminina Phillip Kollin PK006-Blue-A8353-6",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"Sacramento",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk006-blue.jpg',
        description: ""
    },
    {
        id: 5,
        code: 76570,
        title: "Bolsa Feminina Phillip Kollin PK001-Green-A8778-3",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"pk001",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk001-l-green.jpg',
        description: ""
    },
    {
        id: 6,
        code: 76578,
        title: "Bolsa Feminina Phillip Kollin PK003-Blue-A8356-1",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"pk003",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk003-blue.jpg',
        description: ""
    },
    {
        id: 7,
        code: 76576,
        title: "Bolsa Feminina Phillip Kollin PK003-Orange-A8356-1",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"pk003",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk003-orange.jpg',
        description: ""
    },
    {
        id: 8,
        code: 76579,
        title: "Bolsa Feminina Phillip Kollin PK004-Green-A8696-1",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"PK004",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk004-l-green.jpg',
        description: ""
    },
    {
        id: 9,
        code: 76582,
        title: "Bolsa Feminina Phillip Kollin PK004-Purple-A8696-1",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"PK004",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk004-purple.jpg',
        description: ""
    }, 
    {
        id: 10,
        code: 76592,
        title: "Bolsa Feminina Phillip Kollin PK008-Brown",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"PK008",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk008-brown.jpg',
        description: ""
    },
    {
        id: 11,
        code: 76594,
        title: "Bolsa Feminina Phillip Kollin PK009-Brown",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"PK009",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk009-brown.png',
        description: ""
    },
    {
        id: 11,
        code: 76594,
        title: "Bolsa Feminina Phillip Kollin PK009-Brown",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"PK009",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk009-brown.png',
        description: ""
    },
    {
        id: 12,
        code: 76595,
        title: "Bolsa Feminina Phillip Kollin PK009-White-11856-S",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"PK009",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-pk009-white.png',
        description: ""
    },
    {
        id: 13,
        code: 75733,
        title: "Bolsa Feminina Phillip Kollin Y960002",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"Y960002",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-y960002-creme.jpg',
        description: ""
    },
    {
        id: 14,
        code: 102161,
        title: "olsa Feminina Phillip Kollin YZ2010022-Apricot",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2010022",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2010022-apricot.jpg',
        description: ""
    },
    {
        id: 15,
        code: 102160,
        title: "Bolsa Feminina Phillip Kollin YZ2010022-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2010022",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2010022-black.jpg',
        description: ""
    },
    {
        id: 16,
        code: 102162,
        title: "Bolsa Feminina Phillip Kollin YZ2010022-Blue",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2010022",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2010022-blue.jpg',
        description: ""
    },
    {
        id: 17,
        code: 216811,
        title: "Bolsa Feminina Phillip Kollin YZ2100851-2M Black + Carteira Creme",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2100851",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz21008512m-black.jpg',
        description: ""
    },
    {
        id: 18,
        code: 102013,
        title: "Bolsa Feminina Phillip Kollin YZ2100851-3M Brown + Carteira Creme",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2100851",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz21008513m-brown.jpg',
        description: ""
    },
    {
        id: 19,
        code:  102175,
        title: "Bolsa Feminina Phillip Kollin YZ2120379-Dark Green",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120379-dark-green.jpg',
        description: ""
    },
    {
        id: 20,
        code: 102173,
        title: "Bolsa Feminina Phillip Kollin YZ2120385-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120385",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120385-black.jpg',
        description: ""
    },
    {
        id: 21,
        code:  102174,
        title: "Bolsa Feminina Phillip Kollin YZ2120385-Blue",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120385",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120385-blue.jpg',
        description: ""
    },
    {
        id: 22,
        code: 102179,
        title: "Bolsa Feminina Phillip Kollin YZ2120390",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120385-blue.jpg',
        description: ""
    },
    {
        id: 23,
        code: 102180,
        title: "Bolsa Feminina Phillip Kollin YZ2120390-Blue",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120390",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120390-blue.jpg',
        description: ""
    },
    {
        id: 24,
        code: 102170,
        title: "Bolsa Feminina Phillip Kollin YZ2120426",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120426",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120426.jpg',
        description: ""
    },
    {
        id: 25,
        code:  102191,
        title: "Bolsa Feminina Phillip Kollin YZ2120501-Apricot",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120501",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120501-apricot.jpg',
        description: ""
    },
    {
        id: 26,
        code: 102190,
        title: "Bolsa Feminina Phillip Kollin YZ2120501-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120501",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120501-black.jpg',
        description: ""
    }, 
    {
        id: 27,
        code: 216851,
        title: "Bolsa Feminina Phillip Kollin YZ2120501-Blue",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120501",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120501-blue.jpg',
        description: ""
    }, 
    {
        id: 28,
        code: 102155,
        title: "Bolsa Feminina Phillip Kollin YZ2120503-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120503",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-feminina-phillip-kollin-yz2120503.jpg',
        description: ""
    }, 
    {
        id: 29,
        code: 102154,
        title: "Bolsa Feminina Phillip Kollin YZ2120503-Blue",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120503",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120390-blue.jpg',
        description: ""
    }, 
    {
        id: 30,
        code: 102186,
        title: "Bolsa Feminina Phillip Kollin YZ2120505L-Black + Carteira Preta",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120505L",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120505l-black-com-carteira-preta.jpg',
        description: ""
    }, 
    {
        id: 31,
        code: 216814,
        title: "Bolsa Feminina Phillip Kollin YZ2120505L-Blue",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120505L",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120505l-blue.jpg',
        description: ""
    }, 
    {
        id:32,
        code: 102152,
        title: "Bolsa Feminina Phillip Kollin YZ2120505L-Yellow",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120505L",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120505l-dark-yellow.jpg',
        description: ""
    }, 
    {
        id: 33,
        code: 216840,
        title: "Bolsa Feminina Phillip Kollin YZ2120675-3-Blue + Carteira Preta",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120675",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz21206753-blue-com-carteira-preta.jpg',
        description: ""
    }, 
    {
        id: 34,
        code: 102183,
        title: "Bolsa Feminina Phillip Kollin YZ2120675-3-Gray + Carteira Cinza",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120675",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz21206753-gray-com-carteira-cinza.jpg',
        description: ""
    }, 
    {
        id:35,
        code: 102156,
        title: "Bolsa Feminina Phillip Kollin YZ2120789-Fuchsia",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120789",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120789-fucsia.jpg',
        description: ""
    }, 
    {
        id: 36,
        code: 102159,
        title: "Bolsa Feminina Phillip Kollin YZ2120789-Lilac",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120789",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120789-pink.jpg',
        description: ""
    }, 
    {
        id: 37,
        code: 102158,
        title: "Bolsa Feminina Phillip Kollin YZ2120789-Orange",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120789",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120789-orange.jpg',
        description: ""
    }, 
    {
        id: 38,
        code: 102157,
        title: "Bolsa Feminina Phillip Kollin YZ2120789-Yellow",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120789",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120789-yellow.jpg',
        description: ""
    }, 
    {
        id: 39,
        code: 102167,
        title: "Bolsa Feminina Phillip Kollin YZ2132562-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2132562",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2132562-black.jpg',
        description: ""
    }, 
    {
        id: 40,
        code: 102168,
        title: "Bolsa Feminina Phillip Kollin YZ2132562-Brown",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2132562",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2132562-brown.jpg',
        description: ""
    }, 
    {
        id: 41,
        code: 102169,
        title: "Bolsa Feminina Phillip Kollin YZ2132562-Gray",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2132562",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2132562-gray.jpg',
        description: ""
    }, 
    {
        id: 42,
        code: 102185,
        title: "Bolsa Feminina Phillip Kollin YZ2132678-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2132678",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2132678-black.jpg',
        description: ""
    }, 
    {
        id: 43,
        code: 102184,
        title: "Bolsa Feminina Phillip Kollin YZ2132679-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model: "YZ2132679",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2132679-black.jpg',
        description: ""
    }, 
    {
        id: 44,
        code: 102188,
        title: "Bolsa Feminina Phillip Kollin YZ2220404-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model: "YZ2220404",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2220404-black.jpg',
        description: ""
    }, 
    {
        id: 45,
        code: 102189,
        title: "Bolsa Feminina Phillip Kollin YZ2220404-Dark Green",
        category: "Acessórios",
        subcategory: "Bolsa",
        model: "YZ2220404",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2220404-dark-green.jpg',
        description: ""
    }, 
    {
        id: 46,
        code: 102187,
        title: "Bolsa Feminina Phillip Kollin YZ2220404-White",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2220404",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2220404-white.jpg',
        description: ""
    }, 
    {
        id: 47,
        code: 102164,
        title: "Bolsa Feminina Phillip Kollin YZ2230001-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model: "YZ2230001",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2230001-black.jpg',
        description: ""
    }, 
    {
        id: 48,
        code: 102165,
        title: "Bolsa Feminina Phillip Kollin YZ2230001-Brown",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2230001",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2230001-brown.jpg',
        description: ""
    }, 
    {
        id: 49,
        code: 102171,
        title: "Bolsa Feminina Phillip Kollin YZ810100-Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ810100",
        old_price: 1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz810100-black.jpg',
        description: ""
    }, 
    {
        id: 50,
        code: 102172,
        title: "Bolsa Feminina Phillip Kollin YZ810100-Brown",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ810100",
        old_price: 1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz810100-brown.jpg',
        description: ""
    }, 
    {
        id: 51,
        code: 75729,
        title: "Bolsa Feminina Phillip Kollin YZ920172 Verde Militar",
        category: "Acessórios",
        subcategory: "Bolsa",
        model: "YZ920172",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz920172-verde.jpg',
        description: ""
    }, 
    {
        id: 52,
        code: 75728,
        title: "Bolsa Feminina Phillip Kollin YZ920172 Vermelha Rouge",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ920172",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz920172-vermelha.jpg',
        description: ""
    }, 
    {
        id: 53,
        code: 75725,
        title: "Bolsa Feminina Phillip Kollin YZ96001-8-Pink",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ96001",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-long-island-gold-phillip-kollin-yz96001-8-rosa-bebe.jpg',
        description: ""
    }, 
    {
        id: 54,
        code: 102176,
        title: "Bolsa Phillip Kollin YZ2120379- Black",
        category: "Acessórios",
        subcategory: "Bolsa",
        model: "YZ2120379",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120379-black.jpg',
        description: ""
    }, 
    {
        id: 55,
        code: 102177,
        title: "Bolsa Phillip Kollin YZ2120379- Dark Yellow",
        category: "Acessórios",
        subcategory: "Bolsa",
        model:"YZ2120379",
        old_price:1188.00,
        price: 29.00,
        img: './img/product/bolsas/bolsa-phillip-kollin-yz2120379-dark-yellow.jpg',
        description: ""
    }, 

];

const produtosContainer = document.querySelector('#produtosContainer');
const quantidadesProdutos = document.querySelector(".quantidadesProdutos");
const buscaInput = document.querySelector(".pesquisaInput");



function procurandoInput(event) {
    const encontrandoInput = event.target.value;

    const produtosEncontrados = productsFilterInSearch(encontrandoInput);

    produtosEncontrados .length > 0
        ? ListaEQuantidadesProdutos(produtosEncontrados)
        : (produtosContainer.innerHTML ='Nenhum produto encontrado');
}

function productsFilterInSearch(encontrandoInput) {
    return produtos.filter((produtos) => {
        return produtos.categoria.toLowerCase().includes(encontrandoInput.toLowerCase());
    });

}

buscaInput.addEventListener('keyup', _.debounce(procurandoInput, 400));

/* Função para colocar valores em moeda brasileira */

const formatter = Intl.NumberFormat('pt-BR',{
    style: 'currency',
    currency: 'BRL',
    maximumFractionDigits:2,
})

function buscaInvalida(index) {

    produtos.splice(index, 1);

    if (buscaInput.value !== '') {
        const productFiltered = productsFilterInSearch(buscaInput.value);
        renderListAndHeader(productFiltered);
        if (productFiltered.length == 0) {
            buscaInput.value = '';
        }
        return;
    }
    ListaEQuantidadesProdutos(produtos);
}


/* função para mostrar a quantidade de produtos que aparecem na tela*/

function QuantidadesProdutos(produtos) {
    const totalProdutos = produtos.length;

    quantidadesProdutos.innerHTML = totalProdutos > 0 ? `${totalProdutos} produtos disponíveis` : ('0 produtos disponíveis');
}

function ListaEQuantidadesProdutos(produtos) {
    render(produtos);
    QuantidadesProdutos(produtos);
}


/* Função para mostrar os produtos na tela */



function render(produtos){
    let lista = "";

    if(produtos.length <= 0){
       
        lista = `<div class = "nao-encontrado">Ops! Produto não encontrado</div>`;
    }
    else {
        produtos.forEach((produto) => {
           lista += ` 
    <div class="col" style="margin-top: 10px;">
                    <div class="card">
                        <img src='${produto.img}' class="card-img-top" alt='${produto.title}'>
                        <div class="card-body">
                            <h5 class="card-title nome-produto" title='${produto.title}'>${produto.title}</h5>
                            <p class="card-text preco-de"> <span>De:</span> ${formatter.format(produto.old_price)}</p>
                            <p class="preco-por"><span>10x </span>${formatter.format(produto.price)} <span>sem juros</span></p>
                            <a href="#" class="btn btn-primary buy-btn">COMPRAR</a>
                        </div>
                    </div>
                </div>
    `
        });
    };
    
    

    produtosContainer.innerHTML= lista
};



ListaEQuantidadesProdutos(produtos);  

document.body.addEventListener('click', function(event){
    event.preventDefault();


});
